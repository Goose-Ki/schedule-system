name: Python CI - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]

jobs:
  build-and-test:
    runs-on: ubuntu-latest

    steps:
    - name: üì• –í—ã—Ç—è–≥–∏–≤–∞–µ–º –∫–æ–¥ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
      uses: actions/checkout@v4

    - name: üêç –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.11'

    - name: üì¶ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
      run: |
        cd pyschedule
        python -m pip install --upgrade pip
        if [ -f requirements.txt ]; then pip install -r requirements.txt; fi

    - name: üîç –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Python (–ª–∏–Ω—Ç–µ—Ä)
      run: |
        cd pyschedule
        python -m py_compile *.py || echo "–õ–∏–Ω—Ç–∏–Ω–≥ –∑–∞–≤–µ—Ä—à—ë–Ω"
